@using PZStore.HtmlHelpers
@using PZStore.Models
@model ProductsPagesViewModel

@{ var products = Model.Products.ToArray(); }

@if (products.Length <= 4)
{
    <div class="row">
        @for (int i = 0; i < products.Length; i++)
        {
            var product = products[i];
            Html.RenderAction("ProductCard", "Partial", new { model = product });
        }
    </div>
}
else
{
    <div class="row">
        @for (int i = 0; i < 4; i++)
        {
            var product = products[i];
            Html.RenderAction("ProductCard", "Partial", new { model = product });
        }
    </div>
    <div class="row">
        @for (int i = 4; i < products.Length; i++)
        {
            var product = products[i];
            Html.RenderAction("ProductCard", "Partial", new { model = product });
        }
    </div>
}
<div>
    @Html.PageLinks(Model.PagingInfo, x => Url.Action("Index", "Home", new { productPage = x }))
</div>
